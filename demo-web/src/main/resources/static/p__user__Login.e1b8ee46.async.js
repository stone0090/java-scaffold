(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{ObQG:function(E,f,s){E.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},PdsH:function(E,f,s){"use strict";s.r(f);var V=s("miYZ"),v=s("tsqr"),M=s("k1fw"),O=s("9og8"),h=s("tJVT"),Y=s("fOrg"),x=s("+KLJ"),B=s("WmNS"),o=s.n(B),T=s("cJ7L"),C=s("FY4R"),j=s("q1tI"),Z=s.n(j),A=s("VMEa"),p=s("Qurx"),K=s("tneF"),t=s("9kvl"),W=s("CwrG"),R=s("Dp36"),S=s("ObQG"),_=s.n(S),e=s("nKUr"),X=s.n(e),y=function(c){var l=c.content;return Object(e.jsx)(x.a,{style:{marginBottom:24},message:l,type:"error",showIcon:!0})},w=function(){!t.c||setTimeout(function(){var c=t.c.location.query,l=c,b=l.redirect;t.c.push(b||"/")},10)},F=function(){var c=Object(j.useState)(!1),l=Object(h.a)(c,2),b=l[0],P=l[1],N=Object(j.useState)({}),I=Object(h.a)(N,2),U=I[0],J=I[1],L=Object(t.i)("@@initialState"),d=L.initialState,z=L.setInitialState,g=Object(t.h)(),G=function(){var u=Object(O.a)(o.a.mark(function n(){var r,i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d==null||(r=d.fetchUserInfo)===null||r===void 0?void 0:r.call(d);case 2:i=a.sent,i&&z(Object(M.a)(Object(M.a)({},d),{},{currentUser:i}));case 4:case"end":return a.stop()}},n)}));return function(){return u.apply(this,arguments)}}(),$=function(){var u=Object(O.a)(o.a.mark(function n(r){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return P(!0),a.prev=1,a.next=4,Object(R.b)("/demo/shiro/login",r);case 4:if(i=a.sent,i.success!==!0){a.next=11;break}return v.default.success("\u767B\u5F55\u6210\u529F\uFF01"),a.next=9,G();case 9:return w(),a.abrupt("return");case 11:J(i),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),v.default.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 17:P(!1);case 18:case"end":return a.stop()}},n,null,[[1,14]])}));return function(r){return u.apply(this,arguments)}}(),Q=U.success,H=U.data;return Object(e.jsxs)("div",{className:_.a.container,children:[Object(e.jsx)("div",{className:_.a.lang,"data-lang":!0,children:t.b&&Object(e.jsx)(t.b,{})}),Object(e.jsxs)("div",{className:_.a.content,children:[Object(e.jsxs)("div",{className:_.a.top,children:[Object(e.jsxs)("div",{className:_.a.header,children:[Object(e.jsx)("img",{alt:"logo",className:_.a.logo,src:"/github.svg"}),Object(e.jsx)("span",{className:_.a.title,children:"Java Web Scaffold"})]}),Object(e.jsx)("div",{className:_.a.desc,children:"https://github.com/stone0090/java-web-scaffold"})]}),Object(e.jsx)("div",{className:_.a.main,children:Object(e.jsxs)(A.b,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:g.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(n,r){return r.pop()},submitButtonProps:{loading:b,size:"large",style:{width:"100%"}}},onFinish:function(){var u=Object(O.a)(o.a.mark(function n(r){return o.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:$(r);case 1:case"end":return m.stop()}},n)}));return function(n){return u.apply(this,arguments)}}(),children:[Q===!1&&Object(e.jsx)(y,{content:g.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),Object(e.jsx)(p.a,{name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(T.a,{className:_.a.prefixIcon})},placeholder:g.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(p.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(C.a,{className:_.a.prefixIcon})},placeholder:g.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(K.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(t.a,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(t.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]}),Object(e.jsx)(W.a,{})]})};f.default=F}}]);
